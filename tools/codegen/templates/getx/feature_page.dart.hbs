import 'package:flutter/material.dart';
import 'package:get/get.dart';
import 'package:lumora_ui_tokens/lumora_ui_tokens.dart';
import '../controllers/{{featureNameLower}}_controller.dart';

/// Page widget for the {{featureName}} feature using GetX.
/// 
/// This page provides the UI for the {{featureName}} feature and manages
/// its state using GetX reactive programming. It automatically observes
/// state changes and rebuilds when necessary. The controller is injected
/// via GetX dependency injection.
class {{featureName}}Page extends GetView<{{featureName}}Controller> {
  const {{featureName}}Page({super.key});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: const Text('{{featureTitle}}'),
      ),
      body: Obx(() {
        // Show loading indicator while data is being fetched
        if (controller.isLoading) {
          return const Center(
            child: CircularProgressIndicator(),
          );
        }

        // Show error message if something went wrong
        if (controller.error != null) {
          return Center(
            child: Column(
              mainAxisAlignment: MainAxisAlignment.center,
              children: [
                Icon(
                  Icons.error_outline,
                  color: LumoraColors.error,
                  size: 48,
                ),
                const SizedBox(height: 16),
                Text(
                  'Error: ${controller.error}',
                  style: LumoraTypography.bodyMedium.copyWith(
                    color: LumoraColors.error,
                  ),
                  textAlign: TextAlign.center,
                ),
              ],
            ),
          );
        }

        // Show content when data is loaded
        return _buildContent(context);
      }),
    );
  }

  /// Builds the main content of the page when data is loaded.
  Widget _buildContent(BuildContext context) {
    return {{{widgetCode}}};
  }
}
